<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<userInput>

    <panel order="0" id="Install or upgrade eSciDoc">
      <createForPack name="eSciDoc" />
      <field type="title" id="installOrUpgrade" bold="true" size="1" />
      <field type="divider" align="top" />
      <field type="radio" variable="InstallationType">
        <description align="left" id="installOrUpgradeQuestion" />
        <spec>
          <choice id="installOrUpgradeChoiceInstall" value="install" set="true" />
          <choice id="installOrUpgradeChoiceUpgrade" value="upgrade" />
        </spec>
      </field>
      <field type="space"/>
      <field type="divider" align="bottom" />
    </panel>

    <panel order="1" id="Select eSciDoc host name and port number">
        <createForPack name="eSciDoc" />
        <field type="title" id="escidocHostAndPort" bold="true" size="1" />
        <field type="divider" align="top"/>
        <!-- Hostname of the system onto which eSciDoc will be installed -->
        <field type="staticText" align="left" id="escidocHost" />
        <field type="staticText" align="left" id="escidocHostAlternative" />
        <field type="text" align="left" variable="EscidocHost">
          <spec id="escidocHostText" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="escidocHostValidator"/>
        </field>
        <!-- Port number of the system onto which eSciDoc will be installed -->
        <field type="space"/>
        <field type="staticText" align="left" id="escidocPort" />
        <field type="text" align="left" variable="EscidocPort">
          <spec id="escidocPortText" size="25" set=""/>
          <validator class="com.izforge.izpack.util.PortValidator" id="escidocPortValidator"/>
        </field>
        <!-- Bind address of the system onto which eSciDoc will be installed -->
        <!-- field type="space"/>
        <field type="staticText" align="left" txt="By default, the eSciDoc Infrastructure will only bind to the loopback interface, which circumvents access from remote machines." />
        <field type="staticText" align="left" txt="If you want to access the eSciDoc Infrastructure from another machine, check this box. This is typically the case for a production environment. The eSciDoc Infrastructure will then bind to all existing network interfaces." />
        <field type="check" variable="jboss.bind.address">
          <spec txt="Bind to all network interfaces" true="0.0.0.0" false="localhost" set="true"/>
        </field -->
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="2" id="Select RDBMS for eSciDoc and Fedora">
        <createForPack name="eSciDoc" />
        <field type="title" id="RelationalDatabase" bold="true" size="1" />
        <field type="divider" align="top"/>
        <!-- Underlying RDBMS -->
        <field type="radio" variable="Database">
          <description id="RelationalDatabaseDescription" />
          <spec>
            <choice txt="Oracle" value="Oracle"/>
            <choice txt="PostgreSQL" value="PostgreSQL" set="true"/>
          </spec>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="3" id="Oracle JDBC driver">
        <field type="title" id="OracleDriver" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="space"/>
        <field type="staticText" id="OracleDriverDescription"/>
        <field type="file" align="left" variable="jdbc.driver.oracle">
            <spec id="OracleDriverText" size="25" set="" fileext="jar" fileextdesc="Oracle JDBC driver jar"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="4" id="Postgres connection">
        <createForPack name="eSciDoc" />
        <field type="title" id="PostgresDatabase" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="space"/>
        <field type="text" align="left" variable="DatabaseHost">
          <spec id="DatabaseHost" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseHostValidator"/>
        </field>
        <field type="text" align="left" variable="DatabasePortPostgres">
          <spec id="DatabasePort" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabasePortValidator"/>
        </field>
        <field type="space"/>
        <!-- Database Driver Class -->
        <field type="text" align="left" variable="DatabaseDriverClassPostgres">
          <spec id="DatabaseDriver" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseDriverValidator"/>
        </field>
        <field type="space"/>
        <!-- Default Database Name -->
        <field type="text" align="left" variable="RootDatabaseName">
          <description id="PostgresRootDatabase" />
          <spec id="PostgresRootDatabaseText" size="25" set="${RootDatabaseNamePostgres}"/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseNameValidator"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="5" id="Oracle connection">
        <createForPack name="eSciDoc" />
        <field type="title" id="OracleDatabase" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="space"/>
        <field type="text" align="left" variable="DatabaseHost">
          <spec id="DatabaseHost" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseHostValidator"/>
        </field>
        <field type="text" align="left" variable="DatabasePortOracle">
          <spec id="DatabasePort" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabasePortValidator"/>
        </field>
        <field type="space"/>
        <!-- Database Driver Class -->
        <field type="text" align="left" variable="DatabaseDriverClassOracle">
          <spec id="DatabaseDriver" size="25" set="" />
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseDriverValidator"/>
        </field>
        <field type="space"/>
        <!-- Default Database Name -->
        <field type="text" align="left" variable="RootDatabaseName">
          <description id="OracleRootDatabase"/>
          <spec id="OracleRootDatabaseText" size="25" set="${RootDatabaseNameOracle}"/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator"  id="DatabaseNameValidator"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="6" id="Postgres admin user">
        <createForPack name="Database Creation" />
        <field type="title" id="UserCredentials" bold="true" size="1" />
        <field type="divider" align="top"/>
        <!-- Username -->
        <field type="staticText" align="left" id="UserCredentialsText" />
        <field type="space"/>
        <field type="staticText" align="left" id="UserCredentialsText2" />
        <field type="space"/>
        <field type="text" align="left" variable="DatabaseAdminUsernamePostgres">
          <spec id="DatabaseAdminUsername" size="25" set="" />
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseAdminUsernameValidator"/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="DatabaseAdminPassword">
          <spec>
            <pwd id="DatabaseAdminPassword" size="25" set="" />
            <pwd id="RetypeDatabaseAdminPassword" size="25" set="" />
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseAdminPasswordValidator"/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="7" id="Oracle admin user">
        <createForPack name="Database Creation" />
        <field type="title" id="UserCredentials" bold="true" size="1" />
        <field type="divider" align="top"/>
        <!-- Username -->
        <field type="staticText" align="left" id="UserCredentialsText" />
        <field type="space"/>
        <field type="staticText" align="left" id="UserCredentialsText2" />
        <field type="space"/>
        <field type="text" align="left" variable="DatabaseAdminUsernameOracle">
          <spec id="DatabaseAdminUsername" size="25" set="" />
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseAdminUsernameValidator"/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="DatabaseAdminPassword">
          <spec>
            <pwd id="DatabaseAdminPassword" size="25" set="" />
            <pwd id="RetypeDatabaseAdminPassword" size="25" set="" />
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" id="DatabaseAdminPasswordValidator"/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="8" id="eSciDoc database user for Postgres">
        <createForPack name="eSciDoc" />
        <field type="title" txt="eSciDoc Database User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="$EscidocDatabaseUserText" />
        <field type="space"/>
        <!-- Username -->
        <field type="text" align="left" variable="DatabaseUsername">
          <spec txt="Database Username:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database username must not be empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="DatabasePassword">
          <spec>
            <pwd txt="Database Password:" size="25" set=""/>
            <pwd txt="Retype Password:" size="25" set=""/>
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database password must not be empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="9" id="eSciDoc database user for Oracle">
        <createForPack name="eSciDoc" />
        <field type="title" txt="eSciDoc Database User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="$EscidocDatabaseUserText" />
        <field type="space"/>
        <!-- Username -->
        <field type="text" align="left" variable="DatabaseUsername">
          <spec txt="Database Username:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database username must not be empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="DatabasePassword">
          <spec>
            <pwd txt="Database Password:" size="25" set=""/>
            <pwd txt="Retype Password:" size="25" set=""/>
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database password must not be empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <!-- Default tablespace -->
        <field type="text" align="left" variable="DatabaseDefaultTablespace">
          <spec txt="Database Default Tablespace:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database default tablespace must not be empty string."/>
        </field>
        <field type="space"/>
        <!-- Temporary tablespace -->
        <field type="text" align="left" variable="DatabaseTempTablespace">
          <spec txt="Database Temporary Tablespace:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database temporary tablespace must not be empty string."/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="10" id="Fedora admin/database user for Postgres">
        <createForPack name="eSciDoc" />
        <field type="title" txt="Fedora Adminstration User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="The Fedora Administration User will be used to directly log on to Fedora and as an additional database user for Fedora-specific tables." />
        <field type="space"/>
        <field type="staticText" align="left" txt="Typically, you will never need this user. The Fedora Administration User is mainly used within the eSciDoc Infrastructure. The email address may be used by Fedora to send error messages." />
        <field type="space"/>
        <!-- Username -->
        <field type="text" align="left" variable="FedoraUsername">
          <spec txt="Fedora Username:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora username must not be an empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="FedoraPassword">
          <spec>
            <pwd txt="Fedora Password:" size="25" set=""/>
            <pwd txt="Retype Password:" size="25" set=""/>
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora admin password must not be an empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <!-- eMail Address -->
        <field type="text" align="left" variable="FedoraAdminMailAddress">
          <spec txt="eMail Address:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora administrator email addess must not be an empty string."/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="11" id="Fedora admin/database user for Oracle">
        <createForPack name="eSciDoc" />
        <field type="title" txt="Fedora Adminstration User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="The Fedora Administration User will be used to directly log on to Fedora and as an additional database user for Fedora-specific tables." />
        <field type="space"/>
        <field type="staticText" align="left" txt="Typically, you will never need this user. The Fedora Administration User is mainly used within the eSciDoc Infrastructure. The email address may be used by Fedora to send error messages. It is not required." />
        <field type="space"/>
        <!-- Username -->
        <field type="text" align="left" variable="FedoraUsername">
          <spec txt="Fedora Username:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora username must not be an empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="FedoraPassword">
          <spec>
            <pwd txt="Fedora Password:" size="25" set=""/>
            <pwd txt="Retype Password:" size="25" set=""/>
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora admin password must not be an empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <!-- Default tablespace -->
        <field type="text" align="left" variable="FedoraDefaultTablespace">
          <spec txt="Fedora Default Tablespace:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora default tablespace must not be empty string."/>
        </field>
        <field type="space"/>
        <!-- Temporary tablespace -->
        <field type="text" align="left" variable="FedoraTempTablespace">
          <spec txt="Fedora Temporary Tablespace:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora temporary tablespace must not be empty string."/>
        </field>
        <field type="space"/>
        <!-- eMail Address -->
        <field type="text" align="left" variable="FedoraAdminMailAddress">
          <spec txt="eMail Address:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Fedora administrator email addess must not be an empty string."/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="12" id="riTriples database user">
        <createForPack name="eSciDoc" />
        <field type="title" txt="Triplestore Database User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="The database user specified here will be created by the installer and will be used at runtime to access the riTriples database. Please take care not to re-use an existing user, as the installer will drop pre-existing users with the same name!" />
        <field type="space"/>
        <!-- Username -->
        <field type="text" align="left" variable="TriplestoreUsernameOracle">
          <spec txt="Database Username:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database username must not be an empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="TriplestorePasswordOracle">
          <spec>
            <pwd txt="Database Password:" size="25" set=""/>
            <pwd txt="Database Password:" size="25" set=""/>
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database password must not be an empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <!-- Default tablespace -->
        <field type="text" align="left" variable="TriplestoreDefaultTablespace">
          <spec txt="Database Default Tablespace:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database default tablespace must not be empty string."/>
        </field>
        <field type="space"/>
        <!-- Temporary tablespace -->
        <field type="text" align="left" variable="TriplestoreTempTablespace">
          <spec txt="Database Temporary Tablespace:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Database temporary tablespace must not be empty string."/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="13" id="Select authentication method">
        <createForPack name="eSciDoc" />
        <field type="title" txt="Authentication Method" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="eSciDoc supports three different authentication frameworks. If you have doubts which method is the right one for you, chosse 'Form-based'. Please read the installation manual to learn more about the requirements for LDAP and Shibboleth. Both are not yet fully supported by the installer and require further manual configuration after the installer succeeds." />
        <field type="space"/>
        <!-- Authentication methods -->
        <field type="combo" variable="AuthenticationMethod">
          <spec txt="Authentication Method:" id="authentication">
            <choice txt="Form-based" value="form-based" set="true"/>
            <choice txt="LDAP" value="ldap" set="true"/>
            <choice txt="Shibboleth" value="shibboleth" set="true"/>
          </spec>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="14" id="System administrator user">
        <createForPack name="Roles and Users Creation" />
        <field type="title" txt="User Credentials for System Administrator User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <!-- Username -->
        <field type="staticText" align="left" txt="The System Administrator user has access to all resources in the eSciDoc Infrastructure. He can create other users and grant roles and privileges to them." />
        <field type="space"/>
        <field type="text" align="left" variable="AdminUsername">
          <spec txt="System Administrator Username:" size="25" set="" />
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="System administrator username must not be an empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="AdminPassword">
          <spec>
            <pwd txt="System Administrator Password:" size="25" set="" />
            <pwd txt="Retype Password:" size="25" set="" />
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="System administrator password must not be an empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <!-- eMail Address -->
        <!-- field type="text" align="left" variable="AdminEmail">
          <spec txt="eMail Address:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="The eSciDoc Infrastructure System Administrator's email addess must not be an empty string."/>
        </field>
        <field type="space"/ -->
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="15" id="System inspector user">
        <createForPack name="Install Scripts" />
        <field type="title" txt="User Credentials for System Inspector User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <!-- Username -->
        <field type="staticText" align="left" txt="$SystemInspectorText" />
        <field type="space"/>
        <field type="text" align="left" variable="InspectorUsername">
          <spec txt="System Inspector Username:" size="25" set="" />
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="System Inspector username must not be an empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="InspectorPassword">
          <spec>
            <pwd txt="System Inspector Password:" size="25" set="" />
            <pwd txt="Retype Password:" size="25" set="" />
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="System Inspector password must not be an empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <!-- eMail Address -->
        <!-- field type="text" align="left" variable="InspectorEmail">
          <spec txt="eMail Address:" size="25" set=""/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="The eSciDoc Infrastructure System Inspector's email addess must not be an empty string."/>
        </field>
        <field type="space"/ -->
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="16" id="Depositor user">
        <createForPack name="Roles and Users Creation" />
        <field type="title" txt="User Credentials for Depositor User" bold="true" size="1" />
        <field type="divider" align="top"/>
        <!-- Username -->
        <field type="staticText" align="left" txt="The Depositor user is entitles to create new resources within the eSciDoc Infrastructure. This is the user for most of the day-to-day work." />
        <field type="space"/>
        <field type="text" align="left" variable="DepositorUsername">
          <spec txt="Depositor Username:" size="25" set="" />
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Depositor username must not be an empty string."/>
        </field>
        <field type="space"/>
        <!-- Password -->
        <field type="password" align="left" variable="DepositorPassword">
          <spec>
            <pwd txt="Depositor Password:" size="25" set="" />
            <pwd txt="Retype Password:" size="25" set="" />
          </spec>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Depositor password must not be an empty string."/>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator" id="PasswordEqualityValidator"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="17" id="Database backup">
        <createForPack name="eSciDoc" />
        <field type="title" txt="Database Backup" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="If you don't have a recent backup of your database we strongly recommend to stop here and make a backup now. This ensures you will not loose data if the database migration fails." />
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

    <panel order="18" id="Database migration">
        <createForPack name="eSciDoc" />
        <field type="title" txt="Database Migration" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left" txt="Now you may run the database migration. Please stop the infrastructure for this." />
        <field type="staticText" align="left" txt="Keep an eye on the tool's output to see if the migration run successfully." />
        <field type="space"/>
        <field type="check" align="left" variable="RunDatabaseMigration">
          <spec txt="Run the database migration now." size="25" true="true" false="false" set="false"/>
        </field>
        <field type="space"/>
        <field type="staticText" align="left" txt="The database scripts contain a placeholder for the id of the creator's user account."/>
        <field type="space"/>
        <field type="text" align="left" variable="CreatorUserid">
          <spec txt="Creator Userid:" size="25" set="" />
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Creator userid must not be an empty string."/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
    </panel>

</userInput>
