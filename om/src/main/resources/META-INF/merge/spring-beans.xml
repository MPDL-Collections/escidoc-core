<bean id="performance.statistics" class="de.escidoc.core.om.performance.Statistics"/>
<bean id="performance.statisticsInterceptor" class="de.escidoc.core.om.performance.PerformanceStatisticsInterceptor">
	<property ref="performance.statistics" name="statistics"/>
</bean>

<!-- Advisor with pointcut
NOTE: 
- only methods that are public and nonfinal will be proxied
- only classes that are nonfinal will be proxied
- for all proxies cglib is used because it is much faster than the jdk proxy mechanism.
- be careful not to include the Statistics class in the pointcut expression, otherwise unwanted side effects may happen. 
-->
<aop:config proxy-target-class="true">
	<aop:advisor pointcut="execution(!final * de.escidoc.core.om.business..*.*(..))" advice-ref="performance.statisticsInterceptor"/> 
</aop:config>

<bean id="business.resourceMapperDao" class="de.escidoc.core.om.business.fedora.ingest.ResourceMapperDao">
	<property name="resourceMappers">
		<list>
			<bean class="de.escidoc.core.om.business.fedora.ingest.ResourceMapperBean">
     			<property name="resourceType" value="ITEM"/>
     			<property name="resource" ref="business.FedoraItemHandler"/>
     			<property name="validator" ref="business.ingestValidator"/>
       		</bean>
    		<bean class="de.escidoc.core.om.business.fedora.ingest.ResourceMapperBean">
     			<property name="resourceType" value="CONTEXT"/>
     			<property name="resource" ref="business.FedoraContextHandler"/>
     			<property name="validator" ref="business.ingestValidator"/>
    		</bean>
    		<bean class="de.escidoc.core.om.business.fedora.ingest.ResourceMapperBean">
     			<property name="resourceType" value="CONTENT_RELATION"/>
     			<property name="resource" ref="business.FedoraContentRelationHandler"/>
     			<property name="validator" ref="business.ingestValidator"/>
    		</bean>
    		<bean class="de.escidoc.core.om.business.fedora.ingest.ResourceMapperBean">
     			<property name="resourceType" value="CONTAINER"/>
     			<property name="resource" ref="business.FedoraContainerHandler"/>
     			<property name="validator" ref="business.ingestValidator"/>
    		</bean>
       		<bean class="de.escidoc.core.om.business.fedora.ingest.ResourceMapperBean">
     			<property name="resourceType" value="OU"/>
     			<property name="resource" ref="service.OrganizationalUnitHandlerBean"/>
     			<property name="validator" ref="business.ingestValidator"/>
    		</bean>
    	</list>
	</property>
</bean>
	
